# 11-1. 표현 언어란?
표현 언어는 값을 표현하는 데 사용하는 스크립트 언어로, JSP의 스크립트 요소를 보완하는 역할을 한다. 
표현 언어는 다음과 같은 기능을 제공하고 있다.
- JSP의 네 가지 기본 객체가 제공하는 영역의 속성 사용
- 수치 연산, 관계 연산, 논리 연산자 제공
- 자바 클래스 메서드 호출 기능 제공
- 쿠키, 기본 객체의 속성 등 JSP를 위한 표현 언어의 기본 객체 제공
- 람다식을 이용한 함수 정의와 실행 (EL 3.0)
- 스트림 API를 통한 컬렉션 처리 (EL 3.0)
- 정적 메서드 실행 (EL 3.0)

표현 언어를 사용하면 JSP 표현식을 사용하는 것보다 간결한 코드를 사용해서 값을 출력할 수 있다. 
예를 들어, 다음 코드는 표현식과 표현 언어를 사용한 코드의 차이를 보여주고 있다
```jsp
<!-- 표현식 -->
<%=member.getAddress().getZipcode() %>

<!-- 표현 언어 -->
${ member.address.zipcode }
```
***
## EL의 구성
EL은 다음과 같이 $와 괄호('{' 와 '}') 그리고 표현식을 사용하여 값을 표현한다.
```
${expr}
```
expr 부분에는 표현 언어가 정의한 문법에 따라 값을 표현하는 식이 온다. 
EL은 액션 태그나 JSTL의 속성값으로 사용할 수 있다.
```jsp
<jsp:include page="/module/${skin.id}/header.jsp" flush="true"/>
```
액션 태그나 커스텀 태그뿐만 아니라 비스크립트 요소 부분에서도 값을 출력하기 위해 사용할 수 있다.
```jsp
<b>${sessionScope.member.id}</b>님 환영합니다.
```
EL은 JSP의 스크립트 요소(스크립트릿, 표현식, 선언부)를 제외한 나머지 부분에서 사용될 수 있으며, 
EL을 통해서 표현식보다 편리하게 값을 출력할 수 있다.

JSP 2.1 버전부터는 ${expr} 형식뿐만 아니라 #{expr} 구문을 새롭게 지원하고 있다.
둘의 가장 큰 차이점은 실제로 EL의 값을 언제 생성하느냐에 있다.

${expr} 형식의 EL은 ${expr} 구문을 분석할 때 곧바로 값을 계산한다.
EL 변수 name의 값으로 ${m.name}을 지정하면 값을 바로 할당하기 때문에 그 뒤에 m.setName()으로 값을 변경하더라도 name 변수의 값은 변경되지 않는다.

반면에 #{expr} 형식은 실제로 값이 사용될 때 값을 계산한다.
#{m.name}은 실제로 값을 계산하지 않고 name 변수의 값을 m.name으로부터 가져온다고만 설정한다. 
그리고 실제로 값을 사용할 때 값을 계산해서 출력한다. 따라서, m.setName()으로 값을 변경하면 ${name} 코드는 변경된 값을 출력한다. 

이렇게 #{expr} 형식의 EL은 실제로 값이 필요할 때 계산을 수행하기 때문에 Deferred Expression이라고 부른다.
